bufr:
  subsets:
    - NC012122

  variables:
    # MetaData
    timestamp:
      datetime:
        year: "*/YEAR"
        month: "*/MNTH"
        day: "*/DAYS"
        hour: "*/HOUR"
        minute: "*/MINU"
        second: "*/SECO"

    latitude:
      query: "[*/CLATH, */CLAT]"

    longitude:
      query: "[*/CLONH, */CLON]"

    satelliteId:
      query: "*/SAID"

    # Cross Track Cell Number
    crossTrackCellNumber:
      query: '*/CTCN'

    # Wind Vector Cell Quality 
    windVectorCellQuality:
      query: '*/WVCQ'

    # Report Identifier 
    ReportIdentifier:
      query: '*/RPID'

    # Wind Direction at 10 meters
    windDirection:
      query: '*/WD10'

    # Wind Speed at 10 meters
    windSpeed:
      query: '*/WS10'

    # Total Number (with respect to accumulation or average)
    TotalNumber:
      query: '*/ACAV'

    #BackScatter Distance
    BackScatterDistance:
      query: '*/BSCD'

    #Likelihood computed for solution
    LikelihoodComputedForSolution:
      query: '*/LKCS'

  splits:
    satId:
      category:
        variable: satelliteId
        map:
          _4: METOP-2
          _3: METOP-1
          _5: METOP-3 

encoder:
# type: netcdf

# dimensions:

  globals:
    - name: "platformCommonName"
      type: string
      value: "Metop-A"

    - name: "platformLongDescription"
      type: string
      value: "Meteorology Operational Satellite Program - A"

    - name: "sensor"
      type: string
      value: "Advanced Scatterometer (ASCAT)"

    - name: "source"
      type: string
      value: "European Organization for Meteorological Satellites (EUMETSAT)"

    - name: "providerFullName"
      type: string
      value: "National Environmental Satellite, Data, and Information Service"

    - name: "processingLevel"
      type: string
      value: "Level-2"

    - name: "converter"
      type: string
      value: "BUFR"

  variables:
    # MetaData 
    - name: "MetaData/dateTime"
      source: variables/timestamp
      longName: "Datetime"
      units: "seconds since 1970-01-01T00:00:00Z"

    - name: "MetaData/latitude"
      source: variables/latitude
      longName: "Latitude"
      units: "degrees_north"
      range: [ -90, 90 ]

    - name: "MetaData/longitude"
      source: variables/longitude
      longName: "Longitude"
      units: "degrees_east"
      range: [ -180, 180 ]

    - name: "MetaData/satelliteIdentifier"
      source: variables/satelliteId
      longName: "Satellite Identifier"

      #    - name: "MetaData/dataProviderOrigin"
      #source: variables/dataProviderOrigin
      #longName: "Identification of Originating/Generating Center"

    - name: "MetaData/crossTrackCellNumber"
      source: variables/crossTrackCellNumber
      longName: "Cross Track Cell Number"

    - name: "MetaData/windVectorQuality"
      source: variables/windVectorCellQuality
      longName: "Wind Vector Cell Quality"

    - name: "MetaData/ReportIdentifier"
      source: variables/ReportIdentifier
      longName: "Report Identifier"

    - name: "MetaData/windDirection"
      source: variables/windDirection
      longName: "Wind Direction"
      units: "degree"

    - name: "MetaData/windSpeed"
      source: variables/windSpeed
      longName: "Wind Speed"
      units: "m/s"

    - name: "MetaData/TotalNumber"
      source: variables/TotalNumber
      longName: "Total Number (with respect to accumulation or average)"

    - name: "MetaData/BackScatterDistance"
      source: variables/BackScatterDistance
      longName: "BackScatter Distance"

    - name: "MetaData/LikelihoodComputedForSolution"
      source: variables/LikelihoodComputedForSolution
      longName: "Likelihood computed for solution"
