# (C) Copyright 2023 NOAA/NWS/NCEP/EMC

bufr:
  variables:
    timestamp:
      datetime:
        year: "*/YEAR"
        month: "*/MNTH"
        day: "*/DAYS"
        hour: "*/HOUR"
        minute: "*/MINU"
        second: "*/SECO"
    latitude:
      query: "*/CLATH"
    longitude:
      query: "*/CLONH"
    height:
      query: "*/SELV"
      type: float
    sza:
      query: "*/SOZA"
    saz:
      query: "*/SOLAZI"
    vza:
      query: "*/SAZA"
    vaz:
      query: "*/BEARAZ"
    channels:
      query: "*/ATNCHV/INCN"
    brightnessTemp:
      query: "*/ATNCHV/TMBRST"

encoder:
  type: netcdf

  dimensions:
    - name: Channel
      paths:
        - "*/ATNCHV"
      source: variables/channels

  globals:
    - name: "platformCommonName"
      type: string
      value: "MHS 1C"

  variables:

    - name: "MetaData/dateTime"
      source: variables/timestamp
      longName: "dateTime"
      units: "seconds since 1970-01-01T00:00:00Z"

    - name: "MetaData/latitude"
      source: variables/latitude
      longName: "Latitude"
      units: "degrees_north"
      range: [-90, 90]

    - name: "MetaData/longitude"
      source: variables/longitude
      longName: "Longitude"
      units: "degrees_east"
      range: [-180, 180]

    - name: "MetaData/height"
      source: variables/height
      longName: "height"
      units: "m"

    - name: "MetaData/solarZenithAngle"
      source: variables/sza
      longName: "Solar Zenith Angle"
      units: "degrees"
      range: [0, 180]

    - name: "MetaData/solarAzimuthAngle"
      source: variables/saz
      longName: "Solar Azimuth Angle"
      units: "degrees"
      range: [-180, 180]

    - name: "MetaData/sensorZenithAngle"
      source: variables/vza
      longName: "Sensor Zenith Angle"
      units: "degrees"
      range: [0, 180]

    - name: "MetaData/sensorAzimuthAngle"
      source: variables/vaz
      longName: "Sensor Azimuth Angle"
      units: "degrees"
      range: [-180, 180]

    - name: "ObsValue/brightnessTemperature"
      coordinates: "longitude latitude Channel"
      source: variables/brightnessTemp
      longName: "Brightness Temperature"
      units: "K"
      range: [120, 500]
      chunks: [1000, 5]
      compressionLevel: 4
